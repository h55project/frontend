@(page: model.Page, mainPicture: String, ctaImage: Option[String], brandColour: String)(implicit request: RequestHeader, context: model.ApplicationContext)

@import common.Edition
@import common.commercial.PaidContent
@import play.api.Mode.Dev

<style amp-custom>

    @fragments.amp.stylesheets.fonts()

    @if(page.metadata.isHosted) {
        @fragments.amp.stylesheets.hosted(mainPicture, ctaImage, brandColour)
    } else {
        @fragments.amp.stylesheets.tones()
        @fragments.amp.stylesheets.quotes()
        @fragments.amp.stylesheets.richLinks()
        @fragments.amp.stylesheets.ads()
        @fragments.amp.stylesheets.tables()
        @fragments.amp.stylesheets.onward()
        @fragments.amp.stylesheets.buttons()
        @if(page.branding(Edition(request)).exists(_.sponsorshipType == PaidContent)) {
            @fragments.amp.stylesheets.glabs()
        }
    }

    @* proper inlined AMP styles *@
    @if(page.metadata.isHosted) {
        @Html(common.Assets.css.hostedAmp)
    } else {
        @if(page.metadata.contentType == "LiveBlog") {
            @Html(common.Assets.css.liveblogAmp)
        } else {
            @Html(common.Assets.css.amp)
        }
    }
</style>


@*
 * Please note that the tests will NOT pass validation with this line.
 * It won't affect prod but please comment out this line when running tests in DEV
 *@
@if(context.environment.mode == Dev) {
    <link rel="stylesheet" id="head-css" data-reload="head.amp" type="text/css" href="@Static("stylesheets/head.amp.css")" />
}
